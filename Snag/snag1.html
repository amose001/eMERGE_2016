<!DOCTYPE html>
<html>
<head>
	<title>Snag - Enter Code</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
	<link href='https://fonts.googleapis.com/css?family=Raleway:400,200|Josefin+Sans|Quicksand' rel='stylesheet' type='text/css'>
	<!-- Local CSS -->
	<link href="css/stylesnag1.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">

        // JavaScript source code
        var eLon;
        var eLat;
        var longitudes;
        var latitudes;
        function getCoordinates() {

            //getUserLocation();
             eLon = document.getElementById("longitude");
             eLat = document.getElementById("latitude");
            if (navigator.geolocation) {
                //alert('2');
                navigator.geolocation.getCurrentPosition(showPosition, onError);
            } else {
                console.log("Geolocation is not supported by this browser.");
            }
        }

        function showPosition(position) {
            //alert("got here");
            longitudes = position.coords.longitude;
            latitudes = position.coords.latitude;
           eLon.value = longitudes;
            eLat.value = latitudes;
            //alert(longitudes);
            //alert(latitudes);
            console.log("%s %s", longitudes, latitudes);
        }

        function onError(error) {
            // alert("wait 1");
            alert('code: ' + error.code + '\n' +
                  'message: ' + error.message + '\n');
            //alert("wait");
        }

    </script>
    <script type="text/javascript">
    function hideInputs() {
        var eLon = document.getElementById("longitude");
        var eLat = document.getElementById("latitude");
        eLon.style.display = "none";
        eLat.style.display = "none";
        getCoordinates();
    }

    </script>

</head>
<body onload="hideInputs()">
	<!-- Navbar (fixed at top of page -->
	<nav class="navbar navbar-fixed-top">
			<div class="container-fluid">
					<div class="navbar-header">
							<a class="navbar-brand" href="index.html" id="logo"><img src="images/logo.png"></a>
					</div>
			</div>
	</nav>
	<!-- Main Content -->
	<div class="container-fluid" id="main">
		<div class="row text-center">
			<div class="col-md-12">
				<!-- TODO: add action to form -->
				<form action="/location" method="post">
					<div class="form-group">
						<label for="code">Enter Code & Snag</label>
						<input type="text" class="form-control" name="bob" id="pswd" placeholder="KeyCode" required>
					</div>

                    <div id="coolerthings">
                        <input id="longitude" name="long2" display="" value="" />
                        <input id="latitude" name="lat2" display="" value="" />
                    </div>

					<button type="submit" name="location" class="btn">Claim Code</button>
				</form>
			</div>
		</div>
	</div>
	<!-- CDN(s) & local script -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</body>
</html>
